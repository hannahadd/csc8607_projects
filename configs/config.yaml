dataset:
  name: "ESC-50"
  root: "./data/esc50"
  annotation_csv: "./data/esc50/meta/esc50.csv"
  audio_dir: "./data/esc50/audio"
  # Splits recommandés (folds 1..5). On fera:
  # train = folds [1,2,3], val = [4], test = [5]
  split:
    train_folds: [1, 2, 3]
    val_folds: [4]
    test_folds: [5]

preprocess:
  # Audio -> log-mel spectrogram (image 1x64xT)
  sample_rate: 16000
  mono: true
  n_mels: 64
  n_fft: 400
  win_length: 400
  hop_length: 160
  to_db: true
  # Normalisation (on la fera proprement dans preprocessing.py)
  normalize: "per_feature"   # (ex: mean/std sur l'axe temps)

augment:
  enabled: true
  # SpecAugment léger (train only)
  freq_mask:
    enabled: true
    max_width: 8
    num_masks: 1
    p: 0.5
  time_mask:
    enabled: true
    max_width: 20
    num_masks: 1
    p: 0.5
  time_shift:
    enabled: true
    max_shift_pct: 0.05
    p: 0.3

model:
  type: "cnn2d_esc50"
  num_classes: 50
  # Hyperparams modèle (ceux imposés)
  channels: [32, 64, 128]     # ou [48, 96, 192]
  kernel_size: 3              # ou 5

train:
  seed: 42
  batch_size: 64
  num_workers: 0
  epochs: 20
  lr: 1e-3
  weight_decay: 1e-4
  overfit_n: 32

metrics:
  main: "accuracy"

paths:
  runs_dir: "./runs"
  artifacts_dir: "./artifacts"
